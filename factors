#!/usr/bin/env bash
# Factorize natural numbers into a product of two smaller numbers.

calculate_factors() {
    num=$1
    p=2
    while [ $p -le $num ]; do
        if [ $((num % p)) -eq 0 ]; then
            q=$((num / p))
            echo "$num=$p*$q"
            break
        fi
        p=$((p + 1))
    done
}

if [ $# -ne 1 ]; then
    echo 'Usage: factors <file>'
    exit 1
else
    input_file="$1"

    if [ ! -f "$input_file" ]; then
        echo "File not found: $input_file"
        exit 1
    fi

    while read -r number; do
        calculate_factors "$number"
    done < "$input_file"
fi
